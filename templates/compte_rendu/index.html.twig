{% extends 'base.html.twig' %}

{% block title %}
	{{parent()}}Liste des comptes-rendus
{% endblock %}

{% block content %}

	<div class="bg-blue-300 m-10 border-2 border-gray-900">

		<div
			class="grid grid-cols-8 gap-10">
			<!-- 1 -->
			<div class="col-span-2 m-5">
				<form action="" class="grid grid-flow-row gap-5">
					<div>
						<label>Sélectionner visiteur</label>
						<select class="w-full" name="visiteur" id="">
							{% for visiteur in visiteurs %}
								<option value="{{ visiteur.id }}">{{ visiteur.nom }}
									{{ visiteur.prenom }}</option>
							{% endfor %}
						</select>
					</div>
					<div>
						<label>Mois</label>

						<select class="w-full" name="mois" id="">
							{% for i in 1..12 %}
								<option value="{{ i }}">{{ i }}</option>
							{% endfor %}
						</select>
					</div>

					<div>
						<label>Année</label>
						<select class="w-full" name="annee" id="">
							{% for i in 1950..2021 %}
								<option value="{{ i }}">{{ i }}</option>
							{% endfor %}
						</select>
					</div>
					<div>
						<button class="transition duration-500 bg-green-500 text-white w-full rounded-md hover:bg-green-600" type="submit">Afficher</button>
					</div>
				</form>
			</div>
			<!-- 2 -->
			<div class="col-span-6 m-5">

				<div class="bg-white border-2 border-gray-400">

					<div class="m-3">
						<table class="table-auto w-full overflow-y-auto">
							{% for rapportvisite in rapportvisites %}
								<tr
									class="">
									{# foreach #}
									<td class="border border-black p-1 ">
										<p class="flex justify-center">{{rapportvisite.visiteur.praticien.nom}}</p>
									</td>

									<td class="border border-black p-1 ">
										<p class="flex justify-center">{{rapportvisite.visiteur.praticien.ville}}</p>
									</td>


									<td class="border border-black p-1 ">
										<p class="flex justify-center">{{rapportvisite.dateVisite}}</p>
									</td>


									<td class="border border-black p-1 ">
										<p class="flex justify-center">{{rapportvisite.dateRapport}}</p>
									</td>


									<td class="border border-black p-1 ">
										<p class="flex justify-center">
											{% if rapportvisite.etat %}Lu
											{% else %}
												Non lu
											{% endif %}
										</p>
									</td>


									<td class="border border-black p-1">
										<a class="transition duration-500 bg-indigo-500 text-white flex justify-center rounded-md hover:bg-indigo-600 m-1 p-1" href="/compterendu/show/{{rapportvisite.id}}">Consulter</a>
									</td>

								</tr>
							{% endfor %}
						</table>
					</div>
				</div>

			</div>
		</div>

	</div>
{% endblock %}
